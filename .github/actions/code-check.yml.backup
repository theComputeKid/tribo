# name: Code Check

# #* To avoid duplicate jobs running when both push and PR is satisfied, we use this:
# #* https://github.com/orgs/community/discussions/26940#discussioncomment-5686753
# on:
#   workflow_dispatch:
#   push:
#     branches:
#       - main
#   pull_request:
#     types: [opened, synchronize, reopened]

# #* Stop stale workflows when pull requests are updated: https://stackoverflow.com/a/70972844
# #* Does not apply to the main branch.
# concurrency:
#   group: ${{ github.workflow }}-${{ github.ref }}
#   cancel-in-progress: ${{ github.ref != 'refs/heads/main' }}

# jobs:
#   cpu:
#     strategy:
#       matrix:
#         system:
#           [
#             { os: linux, arch: x64, tag: ubuntu-24.04 },
#             { os: linux, arch: arm64, tag: ubuntu-24.04-arm },
#             { os: macos, arch: arm64, tag: macos-26 },
#             { os: windows, arch: x64, tag: windows-2025 },
#             { os: windows, arch: arm64, tag: windows-11-arm },
#           ]
#     runs-on: ${{ matrix.system.tag }}
#     name: ${{ matrix.system.os }}-${{ matrix.system.arch }}
#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4

#       - name: Setup Environment
#         uses: ./.github/actions/setup-environment
#         with:
#           compiler: clang
#           os: ${{ matrix.system.tag }}

# cuda:
#   runs-on: ubuntu-24.04
#   container: nvidia/cuda:12.8.1-devel-ubuntu24.04
#   name: cuda
#   steps:
#     - name: Checkout repository
#       uses: actions/checkout@v4

#     - name: Check compiler version
#       run: apt update && apt install -y sudo lsb-release wget software-properties-common gnupg
#       shell: bash

#     - name: Setup Environment
#       uses: ./.github/actions/setup-environment
#       with:
#         compiler: clang
#         os: ubuntu-24.04

#     - name: Check compiler version
#       run: nvcc --version
#       shell: bash
